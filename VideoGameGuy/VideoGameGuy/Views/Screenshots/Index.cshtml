@model VideoGameGuy.Data.ScreenshotsViewModel

@{
    ViewData["Title"] = "Screenshots";
}

<div id="screenshots_OuterGrid">

    @* Content *@
    <div id="screenshots_InnerGrid">

        @* Status *@
       @*  <div id="status_Grid">
            <input id="sessionId" type="hidden" name="sessionId" value="@Model.SessionId" />
            <input id="scoreValue" type="hidden" name="scoreValue" value="@Model.CurrentScore" />
            <input id="highestScoreValue" type="hidden" name="highestScoreValue" value="@Model.HighestScore" />

            <div id="score_Container">
                <div id="highestScoreDisplay" class="scoreText">Highest Score: @Model.HighestScore</div>
                <div id="scoreDisplay" class="scoreText">Score: @Model.CurrentScore</div>
            </div>
            <div id="timer">--</div>
        </div> *@

        @* Description *@
       @*  <input id="gameTitle" type="hidden" name="gameTitle" value="@Model.CurrentRound?.GameTitle" />
        <div id="gameDescription">@Model.CurrentRound?.GameDescription</div> *@

       
        @* Screenshot Carousel *@
        <div id="screenshotCarousel_Container">
            <ejs-carousel id="screenshotCarousel"
                          dataSource="@Model.CurrentRound.ImageCollection"
                          itemTemplate="<div class='screenshot_slideContent' Style='background-image: url(&apos;${Value}&apos;);'></div>"
                          autoPlay="false"
                          EnableTouchSwipe="true"
                          slideChanged="screenshotCarousel_slideChanged">
            </ejs-carousel>
        </div>

        @* // User Input *@
        <input id="userInput" type="text" placeholder="[Enter Title]" autofocus />
        <i id="correctIcon" class="fa-solid fa-square-check fa-2xl"></i>
        <i id="incorrectIcon" class="fa-solid fa-square-xmark fa-2xl" style="color: #db2a0a;"></i>
    </div>

    @* Footer *@
    <div id="descriptions_Footer">
        <div id="updatedOn">
            Last updated @Model.Igdb_UpdatedOnUtc.ToShortDateString()
        </div>

        <div id="dataSource">
            Data made available by <a href="https://www.igdb.com/">igdb.com</a>
        </div>
    </div>

</div>

@* JS *@
@section Scripts
{
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        const titleExpression = /(?:(?:\:.*)|[^a-z])|(?:\b[iivx]+\b)|(?:^the)/g;


        function screenshotCarousel_slideChanged(args) {
            console.log("Carousel item changed:", args);
        }
    </script>
}